# 非エンジニア向け：並列実行システムの基礎知識

> **この文書の目的**：エンジニアではない方でも、multi-agent-shogunシステムの仕組みを理解できるように解説します。

---

## 1. 並列実行の基本概念

### 日常例で理解する「並列実行」

**レストランのキッチン**を想像してください。

#### シリアル（一人で順番に）
```
シェフ1人で：
1. 前菜を作る（10分）
2. スープを作る（10分）
3. 主菜を作る（20分）
4. デザートを作る（10分）
→ 合計50分
```

#### パラレル（複数人で同時に）
```
シェフ4人で同時に：
- シェフA：前菜（10分）┐
- シェフB：スープ（10分）├→ 同時に進行
- シェフC：主菜（20分）│   最初の20分で
- シェフD：デザート（10分）┘   ほぼ完了
→ 合計約20分
```

**これが並列実行の基本です。** 複数の「作業員」が同時に別々の作業を進めることで、全体の時間を短縮します。

### なぜ並列実行をするのか？

| 理由 | 日常例 | システムでの例 |
|------|--------|----------------|
| 時間短縮 | 複数のシェフが同時に料理 | 8人の足軽が同時に調査 |
| 専門分化 | 前菜担当、主菜担当 | コード担当、ドキュメント担当 |
| 効率化 | 一人の待ち時間が他の作業に使われる | ある足軽が調査中、別の足軽が別の資料を読む |

---

## 2. エージェント・ペイン・セッションの説明

### tmux（ターミナルマルチプレクサ）とは

**「ターミナル版のブラウザのタブ」**だと思ってください。

- ブラウザで複数のタブを開いて、それぞれ別のサイトを見るのと同じ
- tmuxでは、複数の「ペイン」を開いて、それぞれ別のAIエージェントを動かす

### 三階層の構造

```
┌────────────────────────────────────────────────────────────┐
│  コンピュータ画面                                          │
│                                                            │
│  ┌────────────────────┐  ┌──────────────────────────────┐ │
│  │  セッション: shogun │  │  セッション: multiagent      │ │
│  │                    │  │                              │ │
│  │  ┌──────────────┐  │  │  ┌────┬────┬────┬────┬────┐ │ │
│  │  │ ペイン 0     │  │  │  │ペ  │ペ  │ペ  │ペ  │... │ │ │
│  │  │ (将軍)       │  │  │  │イン│イン│イン│イン│    │ │ │
│  │  │              │  │  │  │0   │1   │2   │3   │    │ │ │
│  │  │ SHOGUN       │  │  │  │家老│足  │足  │足  │    │ │ │
│  │  │              │  │  │  │    │軽1 │軽2 │軽3 │    │ │ │
│  │  └──────────────┘  │  │  └────┴────┴────┴────┴────┘ │ │
│  │                    │  │                              │ │
│  └────────────────────┘  └──────────────────────────────┘ │
└────────────────────────────────────────────────────────────┘
```

### 用語の対応

| 用語 | 日常例 | multi-agent-shogunでの役割 |
|------|--------|---------------------------|
| **セッション** | オフィスビル | 「shogun」「multiagent」という2つの作業部屋 |
| **ペイン** | 個人のデスク | 一人のAIが作業する画面 |
| **エージェント** | 従業員 | AIアシスタント（将軍・家老・足軽） |

### エージェントの種類

| 役割 | 人数 | 日常例 | すること |
|------|------|--------|----------|
| **将軍（SHOGUN）** | 1人 | プロジェクトマネージャー | 全体の方針決め、殿（あなた）への報告 |
| **家老（Karo）** | 1人 | 現場監督 | タスクの分配、進捗管理、足軽への指示 |
| **足軽（Ashigaru）** | 8人 | 実務担当 | 実際の調査、コード作成、ドキュメント作成 |

---

## 3. イベント駆動とは何か

### 日常例：ドライブスルー

**イベント駆動**とは「何かが起きた時にだけ動く」仕組みです。

#### ポーリング方式（非効率）
```
店員「いらっしゃいませ、ご注文は？」
客「まだ決めてない」

1分後
店員「いらっしゃいませ、ご注文は？」
客「まだだよ」

1分後
店員「いらっしゃいませ、ご注文は？」
客「うるさい！」
```
→ 客が来るたびに聞き続けるのは無駄ですよね？

#### イベント駆動方式（効率的）
```
店員「ご注文が決まったら、こちらのボタンを押してください」

客（料理を考えている...）

客（ボタンを押す）「注文したい！」
店員「はい、承知いたしました」
```
→ 必要な時にだけ反応するので効率的です。

### multi-agent-shogunでのイベント駆動

```
足軽A（作業中）...

足軽A（作業完了！）「家老様、報告書ができました！」
   ↓ send-keys で通知
家老「了解、確認しよう」
```

- **ポーリング禁止**：定期的に「仕事ありますか？」と聞きに行くのはやめましょう
- **イベント駆動**：作業が終わったら自分から報告する

**なぜイベント駆動なのか？**
- APIの利用料（お金）を節約できる
- 無駄な通信が減る

---

## 4. YAMLファイルの役割

### YAMLとは何か？

**YAML（ヤメル）**は、「設定情報を書くためのファイル形式」です。

ExcelやWordのように見やすい形式で、コンピュータにも人間にも読みやすく書かれています。

### 日常例：注文伝票

```
┌────────────────────────────┐
│ 注文伝票                    │
├────────────────────────────┤
│ お客様名: 山田太郎          │
│ 注文内容:                   │
│   - ハンバーグセット        │
│   - コーラ                 │
│ 配達先: 東京都〇〇          │
│ ステータス: 調理中          │
└────────────────────────────┘
```

これと同じように、YAMLファイルには「誰が、何を、どうするか」が書かれています。

### multi-agent-shogunでのYAMLファイル

| ファイル | 役割 | 日常例 |
|----------|------|--------|
| `queue/tasks/ashigaru4.yaml` | 足軽4へのToDoリスト | 個人の作業指示書 |
| `queue/reports/ashigaru4_report.yaml` | 足軽4からの報告書 | 進捗報告書 |
| `status/master_status.yaml` | 全体の進捗状況 | プロジェクト全体の進捗表 |

### YAMLファイルの例（足軽のタスク）

```yaml
task:
  task_id: subtask_003_004
  description: "非エンジニアが理解すべき知識をまとめよ"
  target_path: "/path/to/output.md"
  status: in_progress
  timestamp: "2026-01-29T20:05:30"
```

**このように書かれていると**：
- 足軽は「何をすべきか」を知る
- 家老は「誰が何をしているか」を把握できる
- 将軍は「全体の進捗」を確認できる

---

## 5. 用語集（初心者向け）

### 一般用語

| 用語 | 読み方 | 意味 |
|------|--------|------|
| **並列実行** | へいれつじっこう | 複数の処理を同時に行うこと |
| **イベント駆動** | イベントくどう | 「何かが起きた時」に反応して動く仕組み |
| **ポーリング** | ポーリング | 定期的に「状態は？」と確認しに行くこと（非効率） |

### システム用語

| 用語 | 読み方 | 意味 |
|------|--------|------|
| **エージェント** | エージェント | AIアシスタントのこと |
| **セッション** | セッション | tmux上の作業部屋のこと |
| **ペイン** | ペイン | セッション内の作業画面（デスク）のこと |
| **YAML** | ヤメル | 設定ファイルの形式 |

### 役割用語

| 用語 | 読み方 | 意味 |
|------|--------|------|
| **将軍（Shogun）** | しょうぐん | プロジェクト全体の責任者 |
| **家老（Karo）** | かろう | タスクの分配・管理をする現場監督 |
| **足軽（Ashigaru）** | あしがる | 実際の作業をする実働部隊 |

### 操作用語

| 用語 | 意味 | 日常例 |
|------|------|--------|
| **send-keys** | キー操作を送ること | メッセージを送って相手を呼ぶこと |
| **コンテキスト** | AIが覚えている情報の量 | 人間の「記憶」のようなもの |
| **コンパクション** | 記憶を整理して要約すること | 思い出を整理して日記に書くこと |

---

## まとめ：何を覚えればいい？

非エンジニアの方は、以下の3点を覚えておけば十分です：

1. **並列実行** = 複数の人が同時に別の作業をするから早い
2. **イベント駆動** = 必要な時にだけ動くから効率的
3. **YAMLファイル** = すべての指示や報告がここに書かれている

> **最も重要なこと**：これらはすべて「効率よく仕事を進めるための仕組み」です。
> 複雑に見えるかもしれませんが、基本は「チームワーク」と同じです。

---

*この文書は、multi-agent-shogunシステムを理解するための入門編です。
より詳細な技術的な内容については、他の資料を参照してください。*
